<html>
<head>
    <title>Songdown Collection</title>

    <script src="static/js/vendor/jquery.js"></script>
    <script src="static/js/vendor/d3.js"></script>
    <script src="static/js/vendor/trianglify.js"></script>

    <link rel="stylesheet" type="text/css" href="static/css/vendor/colors.css"></link>
    <link rel="stylesheet" type="text/css" href="static/css/styles.css"></link>

</head>

<body class="bg-fade">
    <!-- A nice pretty header thing. -->
    <div class="center-text" id="index-header">
        <hr /><h1 class="center-text">~ Songdown Collection ~</h1><hr />
    </div>

    <!-- The rest of the page belongs here. -->
    <div id="song-list" class="box">
        <ul>
            {{#songsWritten}}
                <li><a href="{{fname}}">{{title}}</a></li>
            {{/songsWritten}}
        </ul>
    </div>
</body>

<script type="text/javascript">
    function generateBackground() {
        var t = new Trianglify({
            noiseIntensity: 0,
            cellsize: 120
        });

        // We'll make the image twice the size of window. The browser will
        // scale the image down to the right size and if the user changes the
        // size, (hopefully), there's enough image to cover the new area.
        //
        // This is the least clumsy auto-resize method I've found.
        //
        // (just let that sink in)
        var $win = $(window);
        var pattern = t.generate($win.width() * 2, $win.height() * 2);
        $('body').css('background-image', pattern.dataUrl);
    }

    // I don't know what in creation to call this.
    function startBackgroundCoolThing() {
        generateBackground();
        setInterval(generateBackground, 20 * 1000);
    }

    function init() {
        startBackgroundCoolThing();
    }

    $(document).ready(init);
</script>


</html>
