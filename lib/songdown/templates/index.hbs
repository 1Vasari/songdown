<!DOCTYPE html>
<html>
<head>
    <title>Songdown Collection</title>

    <script src="static/js/vendor/jquery.js"></script>
    <script src="static/js/vendor/d3.js"></script>
    <script src="static/js/vendor/trianglify.js"></script>

    <link rel="stylesheet" type="text/css" href="static/css/vendor/colors.css"></link>
    <link rel="stylesheet" type="text/css" href="static/css/styles.css"></link>

</head>

<body class="index-bg">
    <!-- A nice pretty header thing. -->
    <div class="center-text" id="index-header">
        <hr class="small thick" />
        <h1 class="center-text">~ Songdown Collection ~</h1>
        <hr class="small thick" />
    </div>

    <!-- The rest of the page belongs here. -->
    <div class="box">
    {{#each songsWritten}}
        <h2 class="center-text">~ {{@key}} ~</h2>
        <ul class="songs">
        {{#each this}}
            <li class="song-link">
                <a class="song-link" href="{{fname}}" target="_blank">
                    <span class="song-link-name">{{name}}</span>
                    <span class="song-link-button blue-button">Go</span>
                </a>
            </li>
        {{/each}}
        </ul>
        <br /><hr /><br />
    {{/each}}
    </div>
</body>

<script type="text/javascript">
    function generateBackground() {
        var t = new Trianglify({
            noiseIntensity: 0,
            cellsize: 120
        });

        var $win = $(document);
        var pattern = t.generate($win.width(), $win.height());
        $('body').css('background-image', pattern.dataUrl);
    }

    // I don't know what in Creation to call this.
    function startBackgroundCoolThing() {
        generateBackground();
        setInterval(generateBackground, 60 * 1000);
    }

    function init() {
        startBackgroundCoolThing();
    }

    $(document).ready(init);
</script>


</html>
